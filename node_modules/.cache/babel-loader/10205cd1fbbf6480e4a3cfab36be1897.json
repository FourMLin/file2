{"ast":null,"code":"import { createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, normalizeStyle as _normalizeStyle } from \"vue\";\nconst _hoisted_1 = {\n  class: \"vertical-gallery\",\n  ref: \"vertical\"\n};\n\nconst _hoisted_2 = /*#__PURE__*/_createElementVNode(\"span\", {\n  class: \"material-icons\"\n}, \"arrow_drop_up\", -1\n/* HOISTED */\n);\n\nconst _hoisted_3 = [_hoisted_2];\nconst _hoisted_4 = {\n  class: \"g-category-list\"\n};\nconst _hoisted_5 = {\n  class: \"g-category-item-text\"\n};\nconst _hoisted_6 = {\n  class: \"g-category-sub\"\n};\nconst _hoisted_7 = [\"href\"];\n\nconst _hoisted_8 = /*#__PURE__*/_createElementVNode(\"span\", {\n  class: \"material-icons\"\n}, \"arrow_drop_down\", -1\n/* HOISTED */\n);\n\nconst _hoisted_9 = [_hoisted_8];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", {\n    ref: \"action\",\n    onClick: _cache[0] || (_cache[0] = (...args) => $options.prevFun && $options.prevFun(...args)),\n    class: \"g-category-nav g-category-up\"\n  }, _hoisted_3, 512\n  /* NEED_PATCH */\n  ), _createElementVNode(\"div\", {\n    class: \"vertical-content\",\n    style: _normalizeStyle({\n      'height': `${$data.height - $data.actionHeight}px`,\n      'top': `${$data.actionHeight / 2}px`\n    })\n  }, [_createElementVNode(\"div\", {\n    class: \"vertical-container\",\n    ref: \"verticalContainer\",\n    style: _normalizeStyle({\n      'top': `${$data.contentTop - $data.actionHeight}px`\n    })\n  }, [_createElementVNode(\"ul\", _hoisted_4, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.category, (c, index) => {\n    return _openBlock(), _createElementBlock(\"li\", {\n      class: \"g-tab-category-item\",\n      key: index\n    }, [_createElementVNode(\"div\", _hoisted_5, _toDisplayString(c.text), 1\n    /* TEXT */\n    ), _createElementVNode(\"div\", _hoisted_6, [_createElementVNode(\"ul\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList(c.subs, sub => {\n      return _openBlock(), _createElementBlock(\"li\", {\n        class: \"g-category-sub-item\",\n        key: sub\n      }, [_createElementVNode(\"a\", {\n        href: sub.link\n      }, _toDisplayString(sub.text), 9\n      /* TEXT, PROPS */\n      , _hoisted_7)]);\n    }), 128\n    /* KEYED_FRAGMENT */\n    ))])])]);\n  }), 128\n  /* KEYED_FRAGMENT */\n  ))])], 4\n  /* STYLE */\n  )], 4\n  /* STYLE */\n  ), _createElementVNode(\"div\", {\n    onClick: _cache[1] || (_cache[1] = (...args) => $options.nextFun && $options.nextFun(...args)),\n    class: \"g-category-nav g-category-down\"\n  }, _hoisted_9)], 512\n  /* NEED_PATCH */\n  );\n}","map":{"version":3,"mappings":";;EACSA,KAAK,EAAC;EAAmBC,GAAG,EAAC;;;gCAE6BC,oBAAiD,MAAjD,EAAiD;EAA3CF,KAAK,EAAC;AAAqC,CAAjD,EAA6B,eAA7B,EAA0C;AAAA;AAA1C;;oBAAAG;;EAO9CH,KAAK,EAAC;;;EAEEA,KAAK,EAAC;;;EACNA,KAAK,EAAC;;;;gCAUkCE,oBAAmD,MAAnD,EAAmD;EAA7CF,KAAK,EAAC;AAAuC,CAAnD,EAA6B,iBAA7B,EAA4C;AAAA;AAA5C;;oBAAAI;;uBAtBjEC,oBAuBM,KAvBN,cAuBM,CAtBFH,oBAEM,KAFN,EAEM;IAFDD,GAAG,EAAC,QAEH;IADAK,OAAK,yCAAEC,6CAAF,CACL;IADgBP,KAAK,EAAC;EACtB,CAFN;;EAAA,CAsBE,EAnBFE,oBAgBM,KAhBN,EAgBM;IAhBDF,KAAK,EAAC,kBAgBL;IAfAQ,KAAK;MAAA,aAAgBC,eAASA,kBAAY,IAArC;MAAqC,UAAgBA,qBAAY;IAAjE;EAeL,CAhBN,GAEIP,oBAaM,KAbN,EAaM;IAbDF,KAAK,EAAC,oBAaL;IAZDC,GAAG,EAAC,mBAYH;IAXAO,KAAK;MAAA,UAAaC,mBAAaA,kBAAY;IAAtC;EAWL,CAbN,GAGKP,oBASI,IATJ,cASI,oBARDG,oBAOKK,SAPL,EAOK,IAPL,EAOKC,YAPgDC,aAOhD,EAPwD,CAArBC,CAAqB,EAAlBC,KAAkB,KAAb;yBAAhDT,oBAOK,IAPL,EAOK;MAPDL,KAAK,EAAC,qBAOL;MAP2De,GAAG,EAAED;IAOhE,CAPL,GACIZ,oBAAkD,KAAlD,cAAkDc,iBAAdH,CAAC,CAACI,IAAY,CAAlD,EAA0C;IAAA;IAA1C,GACAf,oBAIM,KAJN,cAIM,CAHFA,oBAEK,IAFL,EAEK,IAFL,EAEK,oBADDG,oBAA0GK,SAA1G,EAA0G,IAA1G,EAA0GC,YAA5DE,CAAC,CAACK,IAA0D,EAAnEC,GAAa,IAAV;2BAA1Cd,oBAA0G,IAA1G,EAA0G;QAAtGL,KAAK,EAAC,qBAAgG;QAAnDe,GAAG,EAAEI;MAA8C,CAA1G,GAAiEjB,oBAAoC,GAApC,EAAoC;QAAhCkB,IAAI,EAAED,GAAG,CAACE;MAAsB,CAApC,mBAAsBF,GAAG,CAACF,KAA1B,EAA8B;MAAA;MAA9B,EAA8BK,UAA9B,EAAjE;KAA0G,CAA1G;;IAAA,CACC,EAFL,CAGE,CAJN,EAFJ;GAOK,CAPL;;EAAA,CAQC,EATJ,EAHL;;EAAA,EAFJ;;EAAA,CAmBE,EADFpB,oBAAsH,KAAtH,EAAsH;IAAhHI,OAAK,yCAAEC,6CAAF,CAA2G;IAAhGP,KAAK,EAAC;EAA0F,CAAtH,aACE,CAvBN;;EAAA","names":["class","ref","_createElementVNode","_hoisted_2","_hoisted_8","_createElementBlock","onClick","$options","style","$data","_Fragment","_renderList","_ctx","c","index","key","_toDisplayString","text","subs","sub","href","link","_hoisted_7"],"sourceRoot":"","sources":["D:\\Mywork\\simplemart\\src\\global\\components\\carousel\\VerticalCarousel.vue"],"sourcesContent":["<template>\r\n    <div class=\"vertical-gallery\" ref=\"vertical\">\r\n        <div ref=\"action\"\r\n             @click=\"prevFun\" class=\"g-category-nav g-category-up\"><span class=\"material-icons\">arrow_drop_up</span>\r\n        </div>\r\n        <div class=\"vertical-content\"\r\n             :style=\"{'height': `${height - actionHeight}px`, 'top': `${actionHeight/2}px`}\">\r\n            <div class=\"vertical-container\"\r\n                 ref=\"verticalContainer\"\r\n                 :style=\"{'top': `${contentTop - actionHeight}px`}\">\r\n                 <ul class=\"g-category-list\">\r\n                    <li class=\"g-tab-category-item\" v-for=\"(c, index) in category\" :key=\"index\">\r\n                        <div class=\"g-category-item-text\">{{c.text}}</div>\r\n                        <div class=\"g-category-sub\">\r\n                            <ul>\r\n                                <li class=\"g-category-sub-item\" v-for=\"sub in c.subs\" :key=\"sub\"><a :href=\"sub.link\">{{sub.text}}</a></li>\r\n                            </ul>\r\n                        </div>\r\n                    </li>\r\n                </ul>       \r\n            </div>\r\n        </div>\r\n         \r\n        <div @click=\"nextFun\" class=\"g-category-nav g-category-down\"><span class=\"material-icons\">arrow_drop_down</span></div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    data() {\r\n        return {\r\n            height: 'auto',\r\n            actionHeight: 0,\r\n            contentHeight: 324,\r\n            contentTop: 0,\r\n            nextShow: true,\r\n            prevShow: true,\r\n            nextEnd: false\r\n        };\r\n    },\r\n    props:{\r\n        itemHeight: {\r\n            type: Number,\r\n            default: 100\r\n        }\r\n    },\r\n    mounted() {\r\n        this.category = [{\r\n                    text: '推薦商品123',\r\n                    // 子目錄\r\n                    subs: [{\r\n                            link: '#',\r\n                            text: '肉品/水產'\r\n                        },\r\n                        {\r\n                            link: '#',\r\n                            text: '食材料理/湯麵'\r\n                        },\r\n                        {\r\n                            link: '#',\r\n                            text: '炸物/點心類'\r\n                        },\r\n                        {\r\n                            link: '#',\r\n                            text: '蔬菜水果'\r\n                        },\r\n                        {\r\n                            link: '#',\r\n                            text: '居家調理/即食組'\r\n                        },\r\n                        {\r\n                            link: '#',\r\n                            text: '居家調理/即食組'\r\n                        },\r\n                        {\r\n                            link: '#',\r\n                            text: '居家調理/即食組'\r\n                        },\r\n                    ]\r\n                },\r\n                {\r\n                    text: '生鮮/低溫食品'\r\n                },\r\n                {\r\n                    text: '生鮮/低溫食品2'\r\n                },\r\n                {\r\n                    text: '酒類商品'\r\n                },\r\n                {\r\n                    text: '美體保健/清潔品'\r\n                },\r\n                {\r\n                    text: '居家生活/紙用品'\r\n                },\r\n                {\r\n                    text: '3C/家電商品'\r\n                },\r\n            ]\r\n        const parentStyle = getComputedStyle(this.$refs.vertical.parentNode);\r\n        this.height = parseInt(parentStyle.height, 10);\r\n        const actionStyle = getComputedStyle(this.$refs.action);\r\n        this.actionHeight = parseInt(actionStyle.height, 10) * 2;\r\n        const contentStyle = getComputedStyle(this.$refs.verticalContainer);\r\n        this.contentHeight = parseInt(contentStyle.height, 10);\r\n        this.nextShow = false;\r\n        this.prevShow = false;\r\n        if (this.contentHeight > this.height - this.actionHeight) {\r\n            this.nextShow = true;\r\n        }\r\n        \r\n    },\r\n    methods: {\r\n        nextFun() {\r\n            let isItemHeight = this.contentHeight + this.contentTop - this.height + this.actionHeight;\r\n            if (isItemHeight > 0 && isItemHeight > this.itemHeight) {\r\n                this.contentTop -= this.itemHeight;\r\n                this.prevShow = true;\r\n            }\r\n            else {\r\n                this.contentTop -= isItemHeight;\r\n                this.nextShow = false;\r\n                this.nextEnd = true;\r\n            }\r\n        },\r\n        prevFun() {\r\n            if (this.contentTop < 0 && this.contentTop + this.itemHeight < 0) {\r\n                this.contentTop += this.itemHeight;\r\n                this.nextShow = true;\r\n            }\r\n            else {\r\n                this.contentTop = 0;\r\n                this.prevShow = false;\r\n            }\r\n        }\r\n    }\r\n};\r\n</script>\r\n\r\n<style lang='less'>\r\n    .vertical-gallery {\r\n        position: relative;\r\n        // height: 324px;\r\n        // overflow: hidden;\r\n\r\n        .vertical-content {\r\n            position: absolute;\r\n            left: 0;\r\n            width: 100%;\r\n            // overflow: hidden;\r\n            background-color: #fff;\r\n        }\r\n        .vertical-container {\r\n            position: absolute;\r\n            left: 0;\r\n            top: 0;\r\n            width: 100%;\r\n            transition: all .3s linear;\r\n        }\r\n    }\r\n</style>"]},"metadata":{},"sourceType":"module"}