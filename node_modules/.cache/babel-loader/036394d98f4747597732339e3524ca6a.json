{"ast":null,"code":"export default {\n  data() {\n    return {\n      height: 'auto',\n      actionHeight: 0,\n      contentHeight: 0,\n      contentTop: 0,\n      nextShow: true,\n      prevShow: true,\n      nextEnd: false\n    };\n  },\n\n  props: {\n    itemHeight: {\n      type: Number,\n      default: 100\n    }\n  },\n\n  mounted() {\n    const parentStyle = getComputedStyle(this.$refs.vertical.parentNode);\n    this.height = parseInt(parentStyle.height, 10);\n    const actionStyle = getComputedStyle(this.$refs.action);\n    this.actionHeight = parseInt(actionStyle.height, 10) * 2;\n    const contentStyle = getComputedStyle(this.$refs.verticalContainer);\n    this.contentHeight = parseInt(contentStyle.height, 10);\n    this.nextShow = false;\n    this.prevShow = false;\n\n    if (this.contentHeight > this.height - this.actionHeight) {\n      this.nextShow = true;\n    }\n  },\n\n  methods: {\n    nextFun() {\n      let isItemHeight = this.contentHeight + this.contentTop - this.height + this.actionHeight;\n\n      if (isItemHeight > 0 && isItemHeight > this.itemHeight) {\n        this.contentTop -= this.itemHeight;\n        this.prevShow = true;\n      } else {\n        this.contentTop -= isItemHeight;\n        this.nextShow = false;\n        this.nextEnd = true;\n      }\n    },\n\n    prevFun() {\n      if (this.contentTop < 0 && this.contentTop + this.itemHeight < 0) {\n        this.contentTop += this.itemHeight;\n        this.nextShow = true;\n      } else {\n        this.contentTop = 0;\n        this.prevShow = false;\n      }\n    }\n\n  }\n};","map":{"version":3,"mappings":"AA0BA,eAAe;EACbA,IAAI,GAAG;IACH,OAAO;MACHC,MAAM,EAAE,MADL;MAEHC,YAAY,EAAE,CAFX;MAGHC,aAAa,EAAE,CAHZ;MAIHC,UAAU,EAAE,CAJT;MAKHC,QAAQ,EAAE,IALP;MAMHC,QAAQ,EAAE,IANP;MAOHC,OAAO,EAAE;IAPN,CAAP;EASH,CAXY;;EAYbC,KAAK,EAAC;IACFC,UAAU,EAAE;MACRC,IAAI,EAAEC,MADE;MAERC,OAAO,EAAE;IAFD;EADV,CAZO;;EAkBbC,OAAO,GAAG;IACN,MAAMC,WAAU,GAAIC,gBAAgB,CAAC,KAAKC,KAAL,CAAWC,QAAX,CAAoBC,UAArB,CAApC;IACA,KAAKjB,MAAL,GAAckB,QAAQ,CAACL,WAAW,CAACb,MAAb,EAAqB,EAArB,CAAtB;IACA,MAAMmB,WAAU,GAAIL,gBAAgB,CAAC,KAAKC,KAAL,CAAWK,MAAZ,CAApC;IACA,KAAKnB,YAAL,GAAoBiB,QAAQ,CAACC,WAAW,CAACnB,MAAb,EAAqB,EAArB,CAAR,GAAmC,CAAvD;IACA,MAAMqB,YAAW,GAAIP,gBAAgB,CAAC,KAAKC,KAAL,CAAWO,iBAAZ,CAArC;IACA,KAAKpB,aAAL,GAAqBgB,QAAQ,CAACG,YAAY,CAACrB,MAAd,EAAsB,EAAtB,CAA7B;IACA,KAAKI,QAAL,GAAgB,KAAhB;IACA,KAAKC,QAAL,GAAgB,KAAhB;;IACA,IAAI,KAAKH,aAAL,GAAqB,KAAKF,MAAL,GAAc,KAAKC,YAA5C,EAA0D;MACtD,KAAKG,QAAL,GAAgB,IAAhB;IACJ;EACH,CA9BY;;EA+BbmB,OAAO,EAAE;IACLC,OAAO,GAAG;MACN,IAAIC,YAAW,GAAI,KAAKvB,aAAL,GAAqB,KAAKC,UAA1B,GAAuC,KAAKH,MAA5C,GAAqD,KAAKC,YAA7E;;MACA,IAAIwB,YAAW,GAAI,CAAf,IAAoBA,YAAW,GAAI,KAAKjB,UAA5C,EAAwD;QACpD,KAAKL,UAAL,IAAmB,KAAKK,UAAxB;QACA,KAAKH,QAAL,GAAgB,IAAhB;MACJ,CAHA,MAIK;QACD,KAAKF,UAAL,IAAmBsB,YAAnB;QACA,KAAKrB,QAAL,GAAgB,KAAhB;QACA,KAAKE,OAAL,GAAe,IAAf;MACJ;IACH,CAZI;;IAaLoB,OAAO,GAAG;MACN,IAAI,KAAKvB,UAAL,GAAkB,CAAlB,IAAuB,KAAKA,UAAL,GAAkB,KAAKK,UAAvB,GAAoC,CAA/D,EAAkE;QAC9D,KAAKL,UAAL,IAAmB,KAAKK,UAAxB;QACA,KAAKJ,QAAL,GAAgB,IAAhB;MACJ,CAHA,MAIK;QACD,KAAKD,UAAL,GAAkB,CAAlB;QACA,KAAKE,QAAL,GAAgB,KAAhB;MACJ;IACJ;;EAtBK;AA/BI,CAAf","names":["data","height","actionHeight","contentHeight","contentTop","nextShow","prevShow","nextEnd","props","itemHeight","type","Number","default","mounted","parentStyle","getComputedStyle","$refs","vertical","parentNode","parseInt","actionStyle","action","contentStyle","verticalContainer","methods","nextFun","isItemHeight","prevFun"],"sourceRoot":"","sources":["D:\\Mywork\\simplemart\\src\\views\\HomeView.vue"],"sourcesContent":["<template>\n  <div class=\"vertical-gallery\" \n       ref=\"vertical\">\n      <div class=\"vertical-prev\"\n           ref=\"action\"\n           v-show=\"prevShow\"\n           @click=\"prevFun\">\n          <div class=\"prev-span\"></div>\n      </div>\n      <div class=\"vertical-content\"\n           :style=\"{'height': `${height - actionHeight}px`, 'top': `${actionHeight/2}px`}\">\n          <div class=\"vertical-container\"\n               ref=\"verticalContainer\"\n               :style=\"{'top': `${contentTop}px`}\">\n              <slot></slot>        \n          </div>\n      </div>\n      <div class=\"vertical-next\"\n           @click=\"nextFun\"\n           v-show=\"nextShow\">\n          <div class=\"next-span\"></div>\n       </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n      return {\n          height: 'auto',\n          actionHeight: 0,\n          contentHeight: 0,\n          contentTop: 0,\n          nextShow: true,\n          prevShow: true,\n          nextEnd: false\n      };\n  },\n  props:{\n      itemHeight: {\n          type: Number,\n          default: 100\n      }\n  },\n  mounted() {\n      const parentStyle = getComputedStyle(this.$refs.vertical.parentNode);\n      this.height = parseInt(parentStyle.height, 10);\n      const actionStyle = getComputedStyle(this.$refs.action);\n      this.actionHeight = parseInt(actionStyle.height, 10) * 2;\n      const contentStyle = getComputedStyle(this.$refs.verticalContainer);\n      this.contentHeight = parseInt(contentStyle.height, 10);\n      this.nextShow = false;\n      this.prevShow = false;\n      if (this.contentHeight > this.height - this.actionHeight) {\n          this.nextShow = true;\n      }\n  },\n  methods: {\n      nextFun() {\n          let isItemHeight = this.contentHeight + this.contentTop - this.height + this.actionHeight;\n          if (isItemHeight > 0 && isItemHeight > this.itemHeight) {\n              this.contentTop -= this.itemHeight;\n              this.prevShow = true;\n          }\n          else {\n              this.contentTop -= isItemHeight;\n              this.nextShow = false;\n              this.nextEnd = true;\n          }\n      },\n      prevFun() {\n          if (this.contentTop < 0 && this.contentTop + this.itemHeight < 0) {\n              this.contentTop += this.itemHeight;\n              this.nextShow = true;\n          }\n          else {\n              this.contentTop = 0;\n              this.prevShow = false;\n          }\n      }\n  }\n};\n</script>\n\n<style lang='less'>\n  .vertical-gallery {\n      position: relative;\n      height: 100%;\n      color: #666;\n      .vertical-next,\n      .vertical-prev {\n          position: absolute;\n          left: 0;\n          width: 100%;\n          height: 15px;\n          background: #000;\n          opacity: .5;\n          cursor: pointer;\n          z-index: 9;\n          &:hover {\n              opacity: 1;\n          }\n      }\n      .vertical-next {\n          bottom: 0;\n      }\n      .vertical-prev {\n          top: 0;\n      }\n      .next-span,\n      .prev-span {\n          position: absolute;\n          left: 50%;\n          top: 50%;\n          width: 10px;\n          height: 5px;\n          background: url('../assets/arrow.png') no-repeat;\n          background-size: 100%;\n          \n      }\n      .next-span {\n          transform: translate(-50%, -50%);\n      }\n      .prev-span {\n          transform: translate(-50%, -50%) rotate(-180deg);\n      }\n      .vertical-content {\n          position: absolute;\n          left: 0;\n          width: 100%;\n          overflow: hidden;\n      }\n      .vertical-container {\n          position: absolute;\n          left: 0;\n          top: 0;\n          width: 100%;\n          transition: all .3s linear;\n      }\n  }\n</style>"]},"metadata":{},"sourceType":"module"}