{"ast":null,"code":"import { createElementVNode as _createElementVNode, vShow as _vShow, withDirectives as _withDirectives, renderSlot as _renderSlot, normalizeStyle as _normalizeStyle, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"vertical-gallery\",\n  ref: \"vertical\"\n};\n\nconst _hoisted_2 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"prev-span\"\n}, null, -1\n/* HOISTED */\n);\n\nconst _hoisted_3 = [_hoisted_2];\n\nconst _hoisted_4 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"next-span\"\n}, null, -1\n/* HOISTED */\n);\n\nconst _hoisted_5 = [_hoisted_4];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_withDirectives(_createElementVNode(\"div\", {\n    class: \"vertical-prev\",\n    ref: \"action\",\n    onClick: _cache[0] || (_cache[0] = (...args) => $options.prevFun && $options.prevFun(...args))\n  }, _hoisted_3, 512\n  /* NEED_PATCH */\n  ), [[_vShow, $data.prevShow]]), _createElementVNode(\"div\", {\n    class: \"vertical-content\",\n    style: _normalizeStyle({\n      'height': `${$data.height - $data.actionHeight}px`,\n      'top': `${$data.actionHeight / 2}px`\n    })\n  }, [_createElementVNode(\"div\", {\n    class: \"vertical-container\",\n    ref: \"verticalContainer\",\n    style: _normalizeStyle({\n      'top': `${$data.contentTop}px`\n    })\n  }, [_renderSlot(_ctx.$slots, \"default\")], 4\n  /* STYLE */\n  )], 4\n  /* STYLE */\n  ), _withDirectives(_createElementVNode(\"div\", {\n    class: \"vertical-next\",\n    onClick: _cache[1] || (_cache[1] = (...args) => $options.nextFun && $options.nextFun(...args))\n  }, _hoisted_5, 512\n  /* NEED_PATCH */\n  ), [[_vShow, $data.nextShow]])], 512\n  /* NEED_PATCH */\n  );\n}","map":{"version":3,"mappings":";;EACOA,KAAK,EAAC;EACNC,GAAG,EAAC;;;gCAKDC,oBAA6B,KAA7B,EAA6B;EAAxBF,KAAK,EAAC;AAAkB,CAA7B,EAAsB,IAAtB,EAAsB;AAAA;AAAtB;;oBAAAG;;gCAaAD,oBAA6B,KAA7B,EAA6B;EAAxBF,KAAK,EAAC;AAAkB,CAA7B,EAAsB,IAAtB,EAAsB;AAAA;AAAtB;;oBAAAI;;uBAnBRC,oBAqBM,KArBN,cAqBM,iBAnBFH,oBAKM,KALN,EAKM;IALDF,KAAK,EAAC,eAKL;IAJDC,GAAG,EAAC,QAIH;IAFAK,OAAK,yCAAEC,6CAAF;EAEL,CALN;;EAAA,aAEaC,iBAiBX,EAbFN,oBAOM,KAPN,EAOM;IAPDF,KAAK,EAAC,kBAOL;IANAS,KAAK;MAAA,aAAgBD,eAASA,kBAAY,IAArC;MAAqC,UAAgBA,qBAAY;IAAjE;EAML,CAPN,GAEIN,oBAIM,KAJN,EAIM;IAJDF,KAAK,EAAC,oBAIL;IAHDC,GAAG,EAAC,mBAGH;IAFAQ,KAAK;MAAA,UAAaD,gBAAU;IAAvB;EAEL,CAJN,GAGIE,YAAaC,WAAb,EAAa,SAAb,EAHJ;;EAAA,EAFJ;;EAAA,CAaE,kBALFT,oBAIO,KAJP,EAIO;IAJFF,KAAK,EAAC,eAIJ;IAHDM,OAAK,yCAAEC,6CAAF;EAGJ,CAJP;;EAAA,aAEaC,iBAGX,CArBN;;EAAA","names":["class","ref","_createElementVNode","_hoisted_2","_hoisted_4","_createElementBlock","onClick","$options","$data","style","_renderSlot","_ctx"],"sourceRoot":"","sources":["D:\\Mywork\\simplemart\\src\\views\\HomeView.vue"],"sourcesContent":["<template>\n  <div class=\"vertical-gallery\" \n       ref=\"vertical\">\n      <div class=\"vertical-prev\"\n           ref=\"action\"\n           v-show=\"prevShow\"\n           @click=\"prevFun\">\n          <div class=\"prev-span\"></div>\n      </div>\n      <div class=\"vertical-content\"\n           :style=\"{'height': `${height - actionHeight}px`, 'top': `${actionHeight/2}px`}\">\n          <div class=\"vertical-container\"\n               ref=\"verticalContainer\"\n               :style=\"{'top': `${contentTop}px`}\">\n              <slot></slot>        \n          </div>\n      </div>\n      <div class=\"vertical-next\"\n           @click=\"nextFun\"\n           v-show=\"nextShow\">\n          <div class=\"next-span\"></div>\n       </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n      return {\n          height: 'auto',\n          actionHeight: 0,\n          contentHeight: 0,\n          contentTop: 0,\n          nextShow: true,\n          prevShow: true,\n          nextEnd: false\n      };\n  },\n  props:{\n      itemHeight: {\n          type: Number,\n          default: 100\n      }\n  },\n  mounted() {\n      const parentStyle = getComputedStyle(this.$refs.vertical.parentNode);\n      this.height = parseInt(parentStyle.height, 10);\n      const actionStyle = getComputedStyle(this.$refs.action);\n      this.actionHeight = parseInt(actionStyle.height, 10) * 2;\n      const contentStyle = getComputedStyle(this.$refs.verticalContainer);\n      this.contentHeight = parseInt(contentStyle.height, 10);\n      this.nextShow = false;\n      this.prevShow = false;\n      if (this.contentHeight > this.height - this.actionHeight) {\n          this.nextShow = true;\n      }\n  },\n  methods: {\n      nextFun() {\n          let isItemHeight = this.contentHeight + this.contentTop - this.height + this.actionHeight;\n          if (isItemHeight > 0 && isItemHeight > this.itemHeight) {\n              this.contentTop -= this.itemHeight;\n              this.prevShow = true;\n          }\n          else {\n              this.contentTop -= isItemHeight;\n              this.nextShow = false;\n              this.nextEnd = true;\n          }\n      },\n      prevFun() {\n          if (this.contentTop < 0 && this.contentTop + this.itemHeight < 0) {\n              this.contentTop += this.itemHeight;\n              this.nextShow = true;\n          }\n          else {\n              this.contentTop = 0;\n              this.prevShow = false;\n          }\n      }\n  }\n};\n</script>\n\n<style lang='less'>\n  .vertical-gallery {\n      position: relative;\n      height: 100%;\n      color: #666;\n      .vertical-next,\n      .vertical-prev {\n          position: absolute;\n          left: 0;\n          width: 100%;\n          height: 15px;\n          background: #000;\n          opacity: .5;\n          cursor: pointer;\n          z-index: 9;\n          &:hover {\n              opacity: 1;\n          }\n      }\n      .vertical-next {\n          bottom: 0;\n      }\n      .vertical-prev {\n          top: 0;\n      }\n      .next-span,\n      .prev-span {\n          position: absolute;\n          left: 50%;\n          top: 50%;\n          width: 10px;\n          height: 5px;\n          // background: url('../assets/arrow.png') no-repeat;\n          background-size: 100%;\n          \n      }\n      .next-span {\n          transform: translate(-50%, -50%);\n      }\n      .prev-span {\n          transform: translate(-50%, -50%) rotate(-180deg);\n      }\n      .vertical-content {\n          position: absolute;\n          left: 0;\n          width: 100%;\n          overflow: hidden;\n      }\n      .vertical-container {\n          position: absolute;\n          left: 0;\n          top: 0;\n          width: 100%;\n          transition: all .3s linear;\n      }\n  }\n</style>"]},"metadata":{},"sourceType":"module"}